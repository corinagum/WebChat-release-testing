<!DOCTYPE html>
<html lang="en-US">
  <head>
    <title>Hosted using CDC</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <script crossorigin="anonymous" src="https://unpkg.com/babel-standalone@6/babel.js"></script>
    <script crossorigin="anonymous" src="https://unpkg.com/regenerator-runtime@0.13.3/runtime.js"></script>
    <script crossorigin="anonymous" src="https://unpkg.com/markdown-it/dist/markdown-it.min.js"></script>
    <script crossorigin="anonymous" src="https://unpkg.com/whatwg-fetch"></script>
    <script crossorigin="anonymous" src="https://unpkg.com/react@16.8.6/umd/react.development.js"></script>
    <script crossorigin="anonymous" src="https://unpkg.com/react-dom@16.8.6/umd/react-dom.development.js"></script>

    <link href="../common/cheatSheet.css" rel="stylesheet" />
    <link href="../common/markdown.css" rel="stylesheet" />
    <link href="../common/webchat.css" rel="stylesheet" />
    <script data-presets="es2015,stage-3" src="../common/createDirectLineWithTranscript.js" type="text/babel"></script>
    <script data-presets="es2015,stage-3" src="../common/createFetchTokens.js" type="text/babel"></script>
    <script data-presets="es2015,stage-3" src="../common/loadCustomization.js" type="text/babel"></script>
    <script data-presets="es2015,stage-3" src="../common/renderCheatSheet.js" type="text/babel"></script>

    <!-- We load Web Chat only for its polyfills -->
    <script src="../drops/webchat-es5.js"></script>
  </head>
  <body>
    <iframe
      id="webchat"
      role="main"
      src="iframe/index.html"
      style="border: 0; max-width: 420px; width: 420px;"
    ></iframe>
    <script type="text/babel" data-presets="es2015,react,stage-3">
      async function main() {
        await window.WebChat.loadCustomization();
        await window.WebChat.renderCheatSheet({
          contentDocument: document.getElementById('webchat').contentDocument
        });
      }

      document.getElementById('webchat').addEventListener('load', () => {
        main().catch(err => console.error(err));
      });
    </script>
  </body>
</html>
